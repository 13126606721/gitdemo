<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.baizhi.dao.CategoryDao">
	<resultMap type="com.baizhi.entity.Category" id="cate">
		<id property="categoryId" column="c_categoryId"/>
		<result property="categoryName" column="c_categoryName"/>
		<result property="categoryUrl" column="c_categoryUrl"/>
		<result property="categoryIcon" column="c_categoryIcon"/>
		<collection property="category" ofType="com.baizhi.entity.Category">
			<id property="categoryId" column="cc_categoryId"/>
			<result property="categoryName" column="cc_categoryName"/>
			<result property="categoryUrl" column="cc_categoryUrl"/>
			<result property="categoryIcon" column="cc_categoryIcon"/>
		</collection>
	</resultMap>
	<select id="queryAll" resultMap="cate">
		select 
				c.categoryId  c_categoryId,
				c.categoryName  c_categoryName,
				c.categoryUrl   c_categoryUrl,
				c.categoryIcon  c_categoryIcon,
				cc.categoryId  cc_categoryId,
				cc.categoryName  cc_categoryName,
				cc.categoryUrl   cc_categoryUrl,
				cc.categoryIcon  cc_categoryIcon
				from cmfz_category  c
				inner join cmfz_category cc
				on c.categoryid=cc.parentId
 	</select>
</mapper>
